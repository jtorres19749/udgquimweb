"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3006],{3006:(I,p,s)=>{s.r(p),s.d(p,{ImportsiauuPageModule:()=>S});var h=s(177),a=s(4341),n=s(7863),d=s(8573),g=s(467),e=s(4438),f=s(8133);const b=[{path:"",component:(()=>{var i;class l{constructor(t,r,o){this.fb=t,this.route=r,this.alertController=o,this.bdService=(0,e.WQX)(f.RA),this.isWaiting=!1,this.spinval=0,this.fg=new a.gE({allSemesters:new a.MJ(""),includeSGRACAD:new a.MJ(!0),fechasExculirConst:new a.MJ(""),includeConstancia:new a.MJ(!0),fechasExculirFicha:new a.MJ(""),includeFicha:new a.MJ(!0)})}controlSpinner(t=0){this.spinval+=t,console.log(this.spinval),this.isWaiting=0!=this.spinval}ngOnInit(){this.loadData()}loadData(){this.controlSpinner(1),this.bdService.getSetting().then(t=>{this.controlSpinner(-1),console.log(t),t.hasOwnProperty("data")&&this.fg.patchValue({allSemesters:t.data.setting.allsemesters})}).catch(t=>{this.controlSpinner(-1),console.log(t)})}generate(){}submit(t){if(console.log(t),t.includeSGRACAD){console.log("entro a includeSGRACAD");let r={allSemesters:t.allSemesters};this.controlSpinner(1),this.bdService.importSGRACAD(r).then(o=>{this.controlSpinner(-1),console.log(o)}).catch(o=>{this.controlSpinner(-1),this.presentAlert("Error al tratar de grabar.")})}if(t.includeConstancia){console.log("entro a includeConstancia");let r=t.fechasExculirConst;this.controlSpinner(1),this.bdService.importConstancia(r).then(o=>{this.controlSpinner(-1),console.log(o)}).catch(o=>{this.controlSpinner(-1),this.presentAlert("Error al tratar de grabar.")})}if(t.includeFicha){console.log("entro a includeFicha");let r=t.fechasExculirFicha;this.controlSpinner(1),this.bdService.importFicha(r).then(o=>{this.controlSpinner(-1),console.log(o)}).catch(o=>{this.controlSpinner(-1),this.presentAlert("Error al tratar de grabar.")})}}restart(){this.presentAlert("Favor de confirmar si desea eliminar todos los pendientes de importaci\xf3n e ininciar de nuevo.","Importaci\xf3n","",[{text:"Regresar",role:"cancel"},{text:"Continuar",role:"confirm",handler:()=>{this.restartContinue()}}])}restartContinue(){this.controlSpinner(1),this.bdService.delImportRegs().then(t=>{this.controlSpinner(-1),console.log(t),this.presentAlert("Se eliminaron los registros.")}).catch(t=>{this.controlSpinner(-1),this.presentAlert("Error al tratar de grabar.")})}presentAlert(t="",r="Importaci\xf3n",o="",u=["Ok"]){var m=this;return(0,g.A)(function*(){yield(yield m.alertController.create({header:r,subHeader:o,message:t,buttons:u})).present()})()}}return(i=l).\u0275fac=function(t){return new(t||i)(e.rXU(a.ok),e.rXU(d.Ix),e.rXU(n.hG))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-importsiauu"]],decls:67,vars:7,consts:[["sendForm","ngForm"],[3,"translucent"],["slot","start"],["slot","end"],[3,"click"],[3,"fullscreen"],["collapse","condense"],["size","large","slot","start"],[3,"ngSubmit","formGroup"],["id","container"],[1,"ion-text-center"],[1,"wrapform"],["labelPlacement","end","name","includeSGRACAD","formControlName","includeSGRACAD"],["label","Semestres","labelPlacement","stacked","type","text","name","allSemesters","formControlName","allSemesters","required","","placeholder","Todos los semestres, separados por coma."],["labelPlacement","end","name","includeConstancia","formControlName","includeConstancia"],["label","Excluir fechas de actualizaci\xf3n","labelPlacement","stacked","type","text","name","fechasExculirConst","formControlName","fechasExculirConst","placeholder","Fechas formato aaaammdd separadas por comas"],["labelPlacement","end","name","includeFicha","formControlName","includeFicha"],["label","Excluir fechas de actualizaci\xf3n","labelPlacement","stacked","type","text","name","fechasExculirFicha","formControlName","fechasExculirFicha","placeholder","Fechas formato aaaammdd separadas por comas"],["id","spinnercontainer"],["id","spinner","name","bubbles"]],template:function(t,r){if(1&t){const o=e.RV6();e.j41(0,"ion-header",1)(1,"ion-toolbar")(2,"ion-buttons",2),e.nrm(3,"ion-menu-button"),e.k0s(),e.j41(4,"ion-title",2),e.EFF(5,"Importar de SIAUU"),e.k0s(),e.j41(6,"ion-buttons",3)(7,"ion-button",4),e.bIt("click",function(){e.eBV(o);const m=e.sdS(25);return e.Njj(m.ngSubmit.emit())}),e.EFF(8,"Generar"),e.k0s(),e.j41(9,"ion-button",4),e.bIt("click",function(){return e.eBV(o),e.Njj(r.restart())}),e.EFF(10,"Borrar"),e.k0s()()()(),e.j41(11,"ion-content",5)(12,"ion-header",6)(13,"ion-toolbar")(14,"ion-buttons",2),e.nrm(15,"ion-menu-button"),e.k0s(),e.j41(16,"ion-title",7),e.EFF(17,"Importar de SIAUU"),e.k0s(),e.j41(18,"ion-buttons",3)(19,"ion-button",4),e.bIt("click",function(){e.eBV(o);const m=e.sdS(25);return e.Njj(m.ngSubmit.emit())}),e.EFF(20,"Generar"),e.k0s(),e.j41(21,"ion-button",4),e.bIt("click",function(){return e.eBV(o),e.Njj(r.restart())}),e.EFF(22,"Borrar"),e.k0s()()()(),e.j41(23,"div")(24,"form",8,0),e.bIt("ngSubmit",function(){return e.eBV(o),e.Njj(r.submit(r.fg.value))}),e.j41(26,"ion-grid")(27,"ion-row")(28,"div",9)(29,"ion-card")(30,"ion-card-header")(31,"ion-card-subtitle",10),e.EFF(32," Importacion de alumnos desde escolar/alumnos/graficas/reporte con avance academico "),e.k0s()(),e.j41(33,"ion-card-content")(34,"ion-item")(35,"div",11)(36,"ion-item")(37,"ion-checkbox",12),e.EFF(38,"Incluir en importaci\xf3n"),e.k0s()(),e.j41(39,"ion-item"),e.nrm(40,"ion-input",13),e.k0s()()()()(),e.j41(41,"ion-card")(42,"ion-card-header")(43,"ion-card-subtitle",10),e.EFF(44," Importacion de calificaciones desde las constancias "),e.k0s()(),e.j41(45,"ion-card-content")(46,"ion-item")(47,"div",11)(48,"ion-item")(49,"ion-checkbox",14),e.EFF(50,"Incluir en importaci\xf3n"),e.k0s()(),e.j41(51,"ion-item"),e.nrm(52,"ion-input",15),e.k0s()()()()(),e.j41(53,"ion-card")(54,"ion-card-header")(55,"ion-card-subtitle",10),e.EFF(56," Importacion de ciclos desde la ficha del estudiante "),e.k0s()(),e.j41(57,"ion-card-content")(58,"ion-item")(59,"div",11)(60,"ion-item")(61,"ion-checkbox",16),e.EFF(62,"Incluir en importaci\xf3n"),e.k0s()(),e.j41(63,"ion-item"),e.nrm(64,"ion-input",17),e.k0s()()()()()()()()()(),e.j41(65,"div",18),e.nrm(66,"ion-spinner",19),e.k0s()()}2&t&&(e.Y8G("translucent",!0),e.R7$(11),e.Y8G("fullscreen",!0),e.R7$(12),e.xc7("visibility",r.isWaiting?"hidden":"visible"),e.R7$(),e.Y8G("formGroup",r.fg),e.R7$(41),e.xc7("visibility",r.isWaiting?"visible":"hidden"))},dependencies:[a.qT,a.BC,a.cb,a.YS,a.j4,a.JD,n.Jm,n.QW,n.b_,n.I9,n.ME,n.HW,n.eY,n.W9,n.lO,n.eU,n.$w,n.uz,n.MC,n.ln,n.w2,n.BC,n.ai,n.hB,n.Gw],styles:[".wrapform[_ngcontent-%COMP%]{padding:10px}.sign-btn[_ngcontent-%COMP%]{text-align:center}#spinnercontainer[_ngcontent-%COMP%]{background-color:transparent;text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#spinner[_ngcontent-%COMP%]{color:#006120;width:100px;height:100px}"]}),l})()}];let F=(()=>{var i;class l{}return(i=l).\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.$C({type:i}),i.\u0275inj=e.G2t({imports:[d.iI.forChild(b),d.iI]}),l})(),S=(()=>{var i;class l{}return(i=l).\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.$C({type:i}),i.\u0275inj=e.G2t({imports:[h.MD,a.YN,a.X1,n.bv,F]}),l})()}}]);