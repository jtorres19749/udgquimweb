"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5452],{5452:(C,g,l)=>{l.r(g),l.d(g,{StudentPageModule:()=>F});var d=l(177),f=l(4341),o=l(7863),h=l(8573),t=l(4438),b=l(8133);const S=e=>["/","student",e];function v(e,s){1&e&&t.nrm(0,"ion-icon",14)}function P(e,s){if(1&e&&(t.j41(0,"ion-item",12),t.DNE(1,v,1,0,"ion-icon",13),t.j41(2,"ion-label"),t.EFF(3),t.k0s()()),2&e){const a=s.$implicit;t.Y8G("routerLink",t.eq3(3,S,a._id)),t.R7$(),t.Y8G("ngIf",""!==a._id),t.R7$(2),t.JRh(a.codigo+" - "+a.nombre)}}const k=[{path:"",component:(()=>{var e;class s{constructor(n){this.menuCtrl=n,this.searchvalue="",this.pageSize=50,this.page=1,this.items=[],this.q={find:{},projection:{},skip:0,limit:this.pageSize,sort:{}},this.noMore=!0,this.isWaiting=!1,this.bdservice=(0,t.WQX)(b.RA)}ionViewWillEnter(){this.menuCtrl.enable(!0)}onIonInfinite(n){this.noMore?n.target.complete():(this.page++,this.q.skip=(this.page-1)*this.pageSize,this.loadData(this.q),setTimeout(()=>{n.target.complete()},500))}handleInput(n){n&&(this.searchvalue=n,console.log(this.lookup()))}lookup(){const n=this.searchvalue;let i=n.toLowerCase().split(","),r=n.toUpperCase().split(",");const c={codigo:{$in:i}},u={nombre:{$regex:`.*${n}.*`,$options:"i"}},p={admision:{$in:i}},m={admision:{$in:r}};console.log("xName"),console.log(p),console.log(m);const M={$or:[c,u,p,m]};this.page=1,this.items=[],this.q={find:M,projection:{_id:1,codigo:1,nombre:1,admision:1,status:1,nivel:1,situacion:1,ciclos:1,ultimoCiclo:1,creditos:1,promedio:1,creditosFaltantes:1},skip:(this.page-1)*this.pageSize,limit:this.pageSize,sort:{admision:1,nombre:1}},this.noMore=!1,this.loadData(this.q)}loadData(n){this.noMore||(this.isWaiting=!0,this.bdservice.lookupCareers(n).then(i=>{if(console.log(i),i.hasOwnProperty("data")&&i.data.length>0)for(let r=0;r<i.data.length;r++)this.items.push(i.data[r]);else this.items.push({codigo:"Total:",_id:"",nombre:this.items.length.toString()+" estudiantes"}),this.noMore=!0;this.isWaiting=!1}).catch(i=>{console.log(i),this.isWaiting=!1}))}}return(e=s).\u0275fac=function(n){return new(n||e)(t.rXU(o._t))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-student"]],decls:24,vars:9,consts:[["q",""],[3,"translucent"],["slot","start"],["color","light","type","text","animated","true","placeholder","Tecle\xe9 c\xf3digo, \xf3 nombre, \xf3 apellidos, \xf3 a\xf1o de inscripci\xf3n",3,"keyup.enter","value"],[3,"fullscreen"],["collapse","condense"],["size","large","slot","start"],["id","container"],["detail","",3,"routerLink",4,"ngFor","ngForOf"],[3,"ionInfinite"],["id","spinnercontainer"],["id","spinner","name","bubbles"],["detail","",3,"routerLink"],["name","person-circle-outline","slot","start",4,"ngIf"],["name","person-circle-outline","slot","start"]],template:function(n,i){if(1&n){const r=t.RV6();t.j41(0,"ion-header",1)(1,"ion-toolbar")(2,"ion-buttons",2),t.nrm(3,"ion-menu-button"),t.k0s(),t.j41(4,"ion-title",2),t.EFF(5,"Estudiantes"),t.k0s(),t.j41(6,"ion-searchbar",3,0),t.bIt("keyup.enter",function(){t.eBV(r);const u=t.sdS(7);return t.Njj(i.handleInput(u.value))}),t.k0s()()(),t.j41(8,"ion-content",4)(9,"ion-header",5)(10,"ion-toolbar")(11,"ion-buttons",2),t.nrm(12,"ion-menu-button"),t.k0s(),t.j41(13,"ion-title",6),t.EFF(14,"Estudiantes"),t.k0s(),t.j41(15,"ion-searchbar",3,0),t.bIt("keyup.enter",function(){t.eBV(r);const u=t.sdS(7);return t.Njj(i.handleInput(u.value))}),t.k0s()()(),t.j41(17,"div",7)(18,"ion-list"),t.DNE(19,P,4,5,"ion-item",8),t.k0s(),t.j41(20,"ion-infinite-scroll",9),t.bIt("ionInfinite",function(u){return t.eBV(r),t.Njj(i.onIonInfinite(u))}),t.nrm(21,"ion-infinite-scroll-content"),t.k0s()(),t.j41(22,"div",10),t.nrm(23,"ion-spinner",11),t.k0s()()}2&n&&(t.Y8G("translucent",!0),t.R7$(6),t.FS9("value",i.searchvalue),t.R7$(2),t.Y8G("fullscreen",!0),t.R7$(7),t.FS9("value",i.searchvalue),t.R7$(2),t.xc7("visibility",i.isWaiting?"hidden":"visible"),t.R7$(2),t.Y8G("ngForOf",i.items),t.R7$(3),t.xc7("visibility",i.isWaiting?"visible":"hidden"))},dependencies:[d.Sq,d.bT,o.QW,o.W9,o.eU,o.iq,o.Ax,o.Hp,o.uz,o.he,o.nf,o.MC,o.S1,o.w2,o.BC,o.ai,o.Gw,o.N7,h.Wk],styles:["ion-menu-button[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-toolbar[_ngcontent-%COMP%]{display:inline-block}#spinnercontainer[_ngcontent-%COMP%]{background-color:transparent;text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#spinner[_ngcontent-%COMP%]{color:#006120;width:100px;height:100px}"]}),s})()}];let j=(()=>{var e;class s{}return(e=s).\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({imports:[h.iI.forChild(k),h.iI]}),s})(),F=(()=>{var e;class s{}return(e=s).\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({imports:[d.MD,f.YN,o.bv,j]}),s})()}}]);